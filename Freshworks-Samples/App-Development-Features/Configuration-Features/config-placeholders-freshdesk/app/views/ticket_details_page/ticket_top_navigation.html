<html>
  <head>
    <script src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js"></script>
  </head>

  <body>
    <main>
      <section>
        <picture>
          <img
            src="http://placeholder.pics/svg/200/D6FFAA-7CFFD8/5728FF-B3B3B3/ticket_top_navigation"
            alt="ticket top navigation"
          />
        </picture>
      </section>
    </main>
  </body>
  <script>
    document.onreadystatechange = whenInteractive;

    function whenInteractive() {
      if (document.readyState === "interactive") {
        return app.initialized().then(getClientAPI).catch(console.error);
      }
    }

    function getClientAPI(_client) {
      let client = _client;
      // JS thread of exection invokes callback passed to on. 'app.activated' everytime freshdesk user clicks on the icon
      client.events.on("app.activated", function log() {
        return console.log(`ticket_top_navigation: app is activated ü•Å`);
      });
    }
  </script>
</html>
